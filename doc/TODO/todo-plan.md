# План разработки

## Легенда
- TODO — задача запланирована
- IN_PROGRESS — работа ведётся
- BLOCKED — требуется внешнее действие
- DONE — задача завершена

## Фаза 10 — Миграция локального веб-клиента на CEF (ответственный: Codex, обновлено: 2025-10-23)
- [DONE] Зафиксировать текущее поведение локального веб-клиента и порядок запуска через Safari.
  - Notes: doc/Project_Docs/Stacks/LocalWebClientSnapshot.md содержит детальный слепок текущего состояния.
- [DONE] Исследовать и зафиксировать варианты поставки CEF-бинарей для Windows, macOS и Linux.
  - Notes: doc/Project_Docs/Stacks/CEF_Distribution_Options.md описывает источники, размеры и структуру пакетов.
- [DONE] Спроектировать процесс загрузки и обновления CEF-пакетов при установке расширения.
  - Notes: doc/Project_Docs/Stacks/CEF_DeliveryPlan.md описывает директории, манифест и поток установки.
- [DONE] Подготовить описание стартовой CEF-обёртки с заглушками UI.
  - Notes: doc/Project_Docs/Stacks/CEF_Launcher_Spec.md фиксирует структуру лаунчера и режим stub.
- [DONE] Определить изменения в механизме запуска и ярлыках для перехода с браузера на CEF.
  - Notes: doc/Project_Docs/Stacks/CEF_Integration_Checklist.md описывает обновления команд и ярлыков.
- [DONE] Реализовать установщик CEF и интегрировать загрузчик в расширение.
  - Notes: assets/cef/manifest.json и src/extension-module/cef/runtime-installer.ts обеспечивают скачивание и распаковку.
- [DONE] Перенастроить запуск клиента и ярлыки на использование cefclient.
  - Notes: команда launchWebClient теперь вызывает ensureCefRuntime/launchCefClient, а shortcut-manager создаёт ярлыки для бинарника.
- [DONE] Обновить документацию и собрать релиз VSIX 1.0.36.
  - Notes: версия поднята до 1.0.36, выполнены `npm run compile` и `vsce package`.

## Фаза 11 — Собственный CEF лаунчер (Stage 2) (ответственный: Codex, обновлено: 2025-10-24)
- [IN_PROGRESS] Подготовить стабильный процесс сборки кастомного лаунчера (сейчас используется адаптированный `cefsimple`).
  - Notes: `scripts/build-cef-launcher.sh` собирает бинарь, прописывает корректный `framework_dir_path`/`CEF_ICU_DATA_PATH` и размещает его в `~/.codeai-hub/cef-launcher/<platform>/`; нужно заменить sample на собственный код.
- [TODO] Настроить поставку артефактов под Windows, macOS и Linux (ресурсы, подпись, публикация в репозитории бинарей).
  - Notes: автоматизировать релиз и убедиться что бинарники не попадают в VSIX.
- [IN_PROGRESS] Интегрировать установку кастомного лаунчера в расширение (заменить `cefclient`, обновить ярлыки, конфигурацию).
  - Notes: macOS arm64 использует `ensureLauncherInstalled`, генерацию `config.json`, запуск helper-процессов без `--single-process`; подготовка происходит уже при активации расширения, поддержка CDN-редиректов добавлена, остальные платформы ожидают реализации.
- [IN_PROGRESS] Обновить документацию и QA-план после перехода на собственный лаунчер.
  - Notes: архитектурные документы обновлены, требуется дополнить QA-сценарии и описание поставки для Windows/Linux.

## Backlog / Parking Lot
- [TODO] Согласовать сроки реализации полноценного подключения CEF-клиента к будущему Remote UI Bridge.
