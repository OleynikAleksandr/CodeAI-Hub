# CodeAI Hub

CodeAI Hub is a Visual Studio Code extension that unifies multiple AI providers behind a single, type-safe experience. The project enforces strict quality and architecture rules through Ultracite, keeping the codebase ready for multi-agent orchestration.

## Current Release — v1.0.43
- **Webview type-checking**: a dedicated `tsconfig.webview.json` brings the React UI under strict TypeScript coverage and runs automatically during `npm run compile`.
- **Architecture script upgrade**: `scripts/check-architecture.sh` now detects facades with flexible naming and flags empty “future work” directories for quick follow-up.
- **Launcher validation**: `CodeAIHubLauncher-macos-arm64-1.0.43.tar.bz2` is published in GitHub Releases; the manifest points to the new archive with a verified SHA-1 checksum.
- **VSIX smoke build**: `codeai-hub-1.0.43.vsix` was generated via `./scripts/build-release.sh 1.0.43` to ensure the toolchain remains green.

## Features
- **React-driven command bar**: the extension view opens with a React-rendered quick-action row that mirrors the Claude Code Fusion UX.
- **Type-safe extension host**: webview messages are routed through facades and hooks with zero usage of `any`.
- **Quality gates out of the box**: architecture checks, duplication scanning, Ultracite linting, and TypeScript compilation run on every commit.
- **Scripted releases**: a single `scripts/build-release.sh` command bumps the version, builds the shell, validates the codebase, and packages a VSIX.

## Getting Started
```bash
git clone https://github.com/OleynikAleksandr/CodeAI-Hub.git
cd CodeAI-Hub
npm install
```

## Development Workflow
1. **Create or modify code** under `src/`. Keep files below 300 lines and prefer micro-classes plus facades.
2. **Run quality checks** before committing:
   ```bash
   npm run quality        # architecture check + Ultracite lint
   npm run check:tsprune  # optional: detect unused exports
   npm run compile        # ensure TypeScript output builds
   ```
3. **Commit**; pre-commit hooks re-run the same gates automatically.

## Building a Release
Always use the provided script to create a VSIX:
```bash
./scripts/build-release.sh <version>
```
The script performs:
- cache cleanup and version bump in `package.json`;
- optional webview UI build (if a bundled React app exists);
- architecture, duplication, lint, and type checks;
- VSIX packaging via `vsce`.

Artifacts such as `.claude`, `.vscode`, `doc/**`, and other local assets are excluded through `.vscodeignore`.

## Repository Layout
```
media/                       Bundled webview assets (CSS + JS) shipped with the extension.
media/react-chat.js          React bundle generated by the webview build script.
media/web-client/            Standalone web client shell (HTML + bundled app.js + macOS launcher assets).
src/core/webview-module/     HTML scaffold that injects the webview assets.
src/extension-module/        Extension host micro-classes.
src/extension.ts             Entry point registering the webview provider.
src/client/ui/src/app-host/ Hooks that coordinate the session host and provider picker.
src/client/ui/src/components/action-bar/ React implementation of the quick-action bar.
src/client/ui/src/components/settings/ Modular settings UI with reusable parts.
scripts/                     Quality and release automation.
doc/                         Architecture and knowledge base (ignored in VSIX).
```

## License
License information will be added in a future update. Until then, treat the repository as proprietary and request permission before redistribution.
