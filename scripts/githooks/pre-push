#!/bin/bash
set -euo pipefail

REPO_ROOT="$(git rev-parse --show-toplevel)"
cd "$REPO_ROOT"

echo "ğŸ” Running duplication check (jscpd)..."
npm run -s check:dup || {
  echo "âŒ jscpd threshold exceeded (3%). Fix duplications or adjust scripts/check).";
  exit 1;
}

echo "ğŸ”— Checking markdown links..."
npm run -s check:links || {
  echo "âŒ Markdown link check failed. Fix broken links in docs.";
  exit 1;
}

echo "âœ… Pre-push checks passed"

